---
page_title: "random_ip Resource - terraform-provider-random"
subcategory: ""
description: |-
  The random_ip resource generates a random IP address, either IPv4 or IPv6. By default, it randomly chooses between 0.0.0.0/0 (IPv4) and ::/0 (IPv6). You can influence the IP type by specifying a cidr_range.
---

# random_ip (Resource)

The `random_ip` resource generates a random IP address, either IPv4 or IPv6. By default, it randomly chooses between 0.0.0.0/0 (IPv4) and ::/0 (IPv6). You can influence the IP type by specifying a `cidr_range`.

## Example Usage

```terraform
resource "random_ip" "example" {}
```

### IPv4

```terraform
resource "ip" "example" {
  cidr_range = "10.1.0.0/16"
}
```

### IPv6

```terraform
resource "ip" "example" {
  cidr_range = "10.1.0.0/16"
}
```

### Using a count

It could be useful to randomly generate a number of IP addresses. This can be done using a [count](https://developer.hashicorp.com/terraform/language/meta-arguments/count).

```terraform
resource "random_ip" "example" {
  count      = 20
  cidr_range = "192.168.1.0/28"
}

output "random_ipv4_addresses" {
  value = random_ip.example[*].result
}
```

### Using a count followed by a distinct

Keep in mind that using a [count](https://developer.hashicorp.com/terraform/language/meta-arguments/count) you could end up with duplicate IP addresses. 
If you want to avoid this, perform a [distinct](https://developer.hashicorp.com/terraform/language/functions/distinct) on the list of IP addresses.

```terraform
resource "random_ip" "example" {
  count      = 50
  cidr_range = "192.168.1.0/28"
}

output "random_distinct_ipv4_addresses" {
  value = distinct(random_ip.example[*].result)
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `cidr_range` (String) A CIDR range from which to allocate the IP address.
- `keepers` (Map of String) Arbitrary map of values that, when changed, will trigger recreation of resource. See [the main provider documentation](../index.html) for more information.

### Read-Only

- `id` (String) A static value used internally by Terraform, this should not be referenced in configurations.
- `result` (String) The random IP address allocated from the CIDR range.
